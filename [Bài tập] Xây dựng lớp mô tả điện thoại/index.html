<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Bài tập] Xây dựng lớp mô tả điện thoại</title>
</head>

<body>
    <input type="button" onclick="sentMessenger()" value="Send">
    <input type="button" onclick="readMess()" value="Read">
    <script>
        function Mobile(power) {
            let battery;
            let draft = '';
            let inbox = [];
            let sent = [];
            let mess = [];
            this.power = power;
            this.powerStatus = function () {
                if (this.power == 'Off' || this.battery == 0) {
                    return alert('Off')
                } else return alert('On')
            }
            this.OnOff = function () {
                if (this.power == 'Off' || this.battery > 0) {
                    return this.power = 'On'
                } else return this.power = 'Off'
            }
            this.charge = function () {
                if (this.battery < 100) {
                    for (let i = this.battery; i <= 100; this.i++) {
                        return this.battery = i;
                    }
                }
            }
            this.newMess = function () {
                if (this.power == 'On') {
                    this.draft = prompt('Nhập tin nhắn');
                    this.battery--;
                }
            }
            this.receiveMess = function (mess) {
                if (this.power == 'On') {
                    this.battery--;
                    this.inbox = mess;
                }
            }
            this.sentMess = function () {
                if (this.power == 'On') {
                    this.battery--;
                    this.sent = this.draft;
                    return this.mess = this.draft;
                }
            }
            this.checkInbox = function () {
                if (this.power == 'On') {
                    this.battery--;
                    return alert(this.inbox)
                }
            }
            this.checkSentMess = function () {
                if (this.power == 'On') {
                    this.battery--;
                    return alert(this.sent)
                }
            }
        }

        // Nokia
        let nokia = new Mobile('On')
        
        function sentMessenger(){
            nokia.newMess();        // soạn tin nhắn
            nokia.sentMess()        // gửi tin nhắn
        }
        
        // Iphone
        let iphone = new Mobile('On')
        
        function readMess(){
            iphone.receiveMess(nokia.mess)      //nhận tin nhắn từ nokia
            iphone.checkInbox();                //đọc tin nhắn từ nokia
        }
    </script>
</body>

</html>