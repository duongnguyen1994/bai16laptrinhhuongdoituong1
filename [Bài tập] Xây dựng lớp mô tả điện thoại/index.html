<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Bài tập] Xây dựng lớp mô tả điện thoại</title>
</head>

<body>
    <input type="button" value="Send" onclick="sentMessenger()">
    <input type="button" value="Read" onclick="readInbox()">
    <script>
        function Mobile(power) {
            this.battery = 100;
            this.draft = [];
            this.inbox = [];
            this.sent = [];
            this.power = true;
            this.powerStatus = function () {
                if (this.power) {
                    return alert('On')
                } else return alert('Off')
            }
            this.turnOn = function () {
                if (this.power = false && this.battery > 0) {
                    return this.power = true
                } else return this.power = false
            }
            this.charge = function () {
                this.battery = 100;
            }
            this.newMess = function () {
                if (this.power) {
                    this.draft.push(prompt('Nhập tin nhắn'));
                    this.battery--;
                }
            } 
            this.sentMess = function (mobile) {
                if (this.power) {
                    this.battery--;
                    let mess = this.draft.pop();
                    this.sent.push(mess);
                    mobile.inbox.push(mess);                 
                }
            }
            this.receiveMess = function (mobile) {
                if (this.power) {
                    
                }
            }
            this.checkInbox = function () {
                if (this.power) {
                    this.battery--;
                    return alert(this.inbox[this.inbox.length-1])
                }
            }
            this.checkSentMess = function () {
                if (this.power) {
                    this.battery--;
                    return alert(this.sent[this.sent.length-1])
                }
            }      
        }
        // // Nokia
        let nokia = new Mobile()
        //     // Iphone
            let iphone = new Mobile()
            function sentMessenger(){
                nokia.newMess();
                nokia.sentMess(iphone);
            }
            
            function readInbox(){
                iphone.checkInbox()
            }
    </script>
</body>

</html>